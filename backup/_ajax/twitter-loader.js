/*
* ~License~ This portion should accompany the Script for Legal usage and Proper Credits
* author: Swashata
* email: admin@intechgrity.com
* ProjectPage: http://code.google.com/p/ajax-based-twitter-status-loader/
* Copyright, 2009 inTechgrity
* Licensed under the GNU General Public License v3<http://www.gnu.org/licenses/>
*/
function recentTwitterLoader(f){var g={TwitName:"swashata",TwitCount:10,ulClass:"twitter-ul",containerID:"",onLoad:false};g=$.extend({},g,f);if(!g.containerID){g.containerID="#twitter-loader";document.write('<div id="twitter-loader"></div>')}if(!$(g.containerID).length){document.write('<div id="'+g.containerID.replace(/\#/,"")+'"></div>')}var d=$(g.containerID);var e=d.html();var b=function(k){for(i=0;i<k.length;i++){var l=k[i].user.screen_name;var j=k[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(m){return'<a href="'+m+'" target="_blank">'+m+"</a>"}).replace(/\B@([_a-z0-9]+)/ig,function(m){return m.charAt(0)+'<a href="http://twitter.com/'+m.substring(1)+'" target="_blank">'+m.substring(1)+"</a>"});var h="<li><span>"+j+'</span> <a href="http://twitter.com/'+l+"/statuses/"+k[i].id+'" target="_blank">'+c(k[i].created_at)+"</a></li>";twitUL.append(h);if(i==k.length-1){$("#itg-twitter").remove()}}};var c=function(k){var j=k.split(" ");k=j[1]+" "+j[2]+", "+j[5]+" "+j[3];var h=Date.parse(k);var l=(arguments.length>1)?arguments[1]:new Date();var m=parseInt((l.getTime()-h)/1000);m=m+(l.getTimezoneOffset()*60);if(m<60){return"seguir &raquo;"}else{if(m<120){return"seguir &raquo;"}else{if(m<(60*60)){return"seguir &raquo;"}else{if(m<(120*60)){return"seguir &raquo;"}else{if(m<(24*60*60)){return"seguir &raquo;"}else{if(m<(48*60*60)){return"seguir &raquo;"}else{return"seguir &raquo;"}}}}}}};var a=function(){d.html("");$('<div id="itg-twitter">'+e+"</div>").appendTo(d);twitUL=$("<ul"+(g.ulClass?' class="'+g.ulClass+'"':"")+"/>").appendTo(d);$.ajax({url:"http://twitter.com/statuses/user_timeline/"+g.TwitName+".json",data:{count:g.TwitCount},dataType:"jsonp",success:b,cache:true})};if(g.onLoad){$(window).load(a)}else{$(document).ready(a)}};